# Thesis ↔ Code Crosswalk

## Concept alignments
- **Data universe**: Thesis analyzes eight equities plus benchmarks (S&P 500, 10-year Treasury, CPI, NASDAQ) with Yahoo Finance/FRED sourcing and weekly horizons.【89d489†L6-L66】 The R script loads the same tickers via `load_stock()` and `read.csv()`, expecting identical file paths and symbols before proceeding with CPI deflation and diagnostics.【F:R/Masterarbeit_code/Trading_algorithm.R†L29-L127】
- **Training window selection**: Thesis enforces bubble-free training samples using minimum windows from `psy_minw` and SADF/GSADF screening.【1fa7db†L112-L162】【6929a6†L1-L36】 The script truncates each ticker to `psy_minw` lengths ahead of diagnostics, mirroring that preparatory step.【F:R/Masterarbeit_code/Trading_algorithm.R†L186-L213】
- **Sequential SADF monitoring**: Thesis relies on sequential SADF statistics with Monte Carlo critical values for real-time detection.【1fa7db†L3-L66】 The `real_time_monitoring()` function implements the same loop—appending observations, calling `radf()`, and comparing to stored `Critical_values` to flag entry/exit signals.【F:R/Masterarbeit_code/Trading_algorithm.R†L345-L382】
- **CUSUM detector**: Thesis specifies a normalized CUSUM with boundary gamma_alpha (1 + 2r) at 5% significance.【1fa7db†L58-L112】 The script’s `cusum_monitoring()` reproduces that formula and boundary evaluation while emitting logical breach indicators.【F:R/Masterarbeit_code/Trading_algorithm.R†L388-L439】
- **Performance evaluation**: Thesis measures strategy outcomes via cumulative/geometric returns, Sharpe ratios, and Jensen’s alpha against CAPM benchmarks.【1fa7db†L70-L140】【6929a6†L85-L183】 The script calls `Evaluating_trading_rule()`, `geom_average_retrun()`, `sharp()`, and `Jensen_Alpha()` to compute those same metrics, and contrasts them with buy-and-hold baselines.【F:R/Masterarbeit_code/Trading_algorithm.R†L475-L745】
- **Trading logic**: Thesis describes staying invested while bubble tests remain above thresholds and exiting post-collapse to avoid drawdowns.【478900†L1-L6】【6929a6†L126-L183】 The code’s trading rule maintains an `in_market` state, enters on sustained TRUE signals, and exits on boundary breaches to capture that behavior.【F:R/Masterarbeit_code/Trading_algorithm.R†L478-L506】

## Gaps or divergence points
- **GSADF usage**: Thesis augments SADF with GSADF for training-sample validation.【6929a6†L1-L36】 The script relies solely on `radf()` (SADF) and does not compute GSADF statistics, implying manual GSADF checks may occur outside this file.【F:R/Masterarbeit_code/Trading_algorithm.R†L186-L213】
- **Transaction costs assumption**: Thesis explicitly ignores trading costs given neo-broker spreads.【1fa7db†L70-L112】 The script likewise omits cost modeling; future enhancements might parameterize commissions or slippage to explore sensitivity.
- **Automation vs. manual orchestration**: The thesis presents a cohesive pipeline, but the script executes many steps via manual, ticker-specific calls (e.g., repeated `plot_statistic()` invocations), indicating room to refactor into loops or apply functions to reduce repetition beyond the research prototype.【F:R/Masterarbeit_code/Trading_algorithm.R†L646-L745】
